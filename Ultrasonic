# Projet-IA
import lejos.hardware.ev3.LocalEV3;
import lejos.hardware.port.Port;
import lejos.hardware.sensor.EV3UltrasonicSensor;
import lejos.hardware.sensor.SensorModes;
import lejos.robotics.SampleProvider;

public class Ultrasonic {

	private SensorModes sensor;
	private Port port;
	private float [] sample;
	private SampleProvider distance;


	public Ultrasonic(Port sensorPort) {
		// get a port instance
		port = LocalEV3.get().getPort("S2");

		// Get an instance of the Ultrasonic EV3 sensor
		sensor = new EV3UltrasonicSensor(port);

		// get an instance of this sensor in measurement mode
		distance= sensor.getMode("Distance");

		// initialize an array of floats for fetching samples. 
		// Ask the SampleProvider how long the array should be
		sample = new float[distance.sampleSize()];
	}
	
	
	public float getDistance() {
		while(true) {
			distance.fetchSample(sample, 0);

			return sample[0];
		}
	}
	
	public float[] rechercheDistance() {
		float [] tab = new float [1];
		for (int i =0 ; i<   100     ; i++ ) {
			Delay.msDelay(100);
			tab[i]=getDistance();
			tab=Arrays.copyOf(tab, tab.length+1);
			System.out.println(tab[i]);
		}
		return tab;
	}
}


